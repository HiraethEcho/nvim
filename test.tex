\documentclass{article}

\usepackage{amsfonts}
\usepackage[all]{xy}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{mathrsfs}
\usepackage{amsthm}
\usepackage{enumerate}
\usepackage[hidelinks]{hyperref}
\usepackage{ulem}
\usepackage{tikz}
\usetikzlibrary{arrows.meta}%画箭头用的包

\usepackage{geometry}
\geometry{a4paper,left=2cm,right=2cm,top=2cm,bottom=2cm}

\newtheorem{defn}{Definition}[section]
\newtheorem{prop}[defn]{Proposition}
\newtheorem{lem}[defn]{Lemma}
\newtheorem{thm}[defn]{Theorem}
\newtheorem{cor}[defn]{Corollary}
\newtheorem{rmk}[defn]{Remark}
\newtheorem{fact}[defn]{Fact}
\newtheorem{problem}{Problem}
\newtheorem*{ques}{Question}

\setcounter{section}{0}

\title{test}
\author{wyz}
\date{\today}

\begin{document}
\maketitle
\section{w}
\subsection{2}

will only expand at the beginning of the line will only expand at the beginning of the line will only expand at the end of the line

\[
  \left\lceil up \right\rceil 
\]

\begin{align*}
  f: X&\longrightarrow Y \\
  x&\longmapsto f(x) = y
.\end{align*}

\begin{equation}
\begin{aligned}
  f: X&\longrightarrow Y \\
  x&\longmapsto f(x) = y
.\end{aligned}
\end{equation}
\[
  \frac{a}{b}
\]


\end{document}
